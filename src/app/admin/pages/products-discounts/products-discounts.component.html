<div class="column">
    <h1 style="text-align: center">Gestionar Productos y Descuentos</h1>
    <div class="row">
        <div class="product-discount">
            <div class="title-button">
                <h3 style="margin: 20px 10px">Productos</h3>
                <button mat-flat-button style="background-color: lightgreen" (click)="createProduct()">+</button>
            </div>
            <div>
                <mat-form-field appearance="outline" subscriptSizing="dynamic" style="margin: 0 10px">
                    <mat-label>Nombre Producto</mat-label>
                    <input matInput [(ngModel)]="productName">
                    <button mat-icon-button matSuffix (click)="searchProduct()" style="border: 0;">
                        <mat-icon>search</mat-icon>
                    </button>
                </mat-form-field>
                <button mat-flat-button (click)="reloadSearch()" style="background-color: #eae3db; color: #d1ae6f">Reiniciar Búsqueda</button>
            </div>
            <table mat-table [dataSource]="products">
                <ng-container matColumnDef="code">
                    <th mat-header-cell *matHeaderCellDef>Código</th>
                    <td mat-cell  *matCellDef="let product">{{product.code}}</td>
                </ng-container>

                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Nombre Completo</th>
                    <td mat-cell *matCellDef="let product">{{product.fullName}}</td>
                </ng-container>

                <ng-container matColumnDef="price">
                    <th mat-header-cell *matHeaderCellDef>Precio</th>
                    <td mat-cell *matCellDef="let product">S/. {{product.price}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="['code', 'fullName', 'price']"></tr>
                <tr mat-row *matRowDef="let product; columns: ['code', 'fullName', 'price'];" style="cursor: pointer; height: 30px;" (click)="manageProduct(product)"></tr>
            </table>
            <mat-paginator
                (page)="handlePageEvent($event)"
                [length]="productsSize"
                [pageSize]="10"
                [pageIndex]="pageIndex"
                hidePageSize
                showFirstLastButtons
                style="margin-bottom: 5px">
            </mat-paginator>
        </div>
        <div class="product-discount">
            <div class="title-button">
                <h3 style="margin: 20px 10px">Descuentos</h3>
                <button mat-flat-button style="background-color: lightgreen" (click)="createDiscount()">+</button>
            </div>
            <table mat-table [dataSource]="discounts">
                <ng-container matColumnDef="code">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell  *matCellDef="let discount">{{discount.name}}</td>
                </ng-container>

                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Descuento</th>
                    <td mat-cell *matCellDef="let discount">{{discount.quantity}}%</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="['code', 'fullName']"></tr>
                <tr mat-row *matRowDef="let discount; columns: ['code', 'fullName'];" style="height: 30px;"></tr>
            </table>
        </div>
    </div>
    <div>
        <button mat-flat-button [routerLink]="['/home/Admin']" style="margin: 0 0 0 15px; background-color: #eae3db; color: #d1ae6f">Regresar</button>
    </div>
</div>
